# e-commerce_analysis

## Цель

Оценить поведение пользователей интернет-магазина и провести RFM-сегментацию для более точной оценки клиентской базы.

## Стек

- Python
- Pandas
- Numpy
- Matplotlib/Seaborn для визуализации
- Datetime
- Operator

## Этапы

1. **Формулировка гипотезы и подбор метрик**:
   - Гипотеза: покупатели, которые сделали больше заказов и потратили больше денег, имеют более высокую вероятность стать лояльными клиентами.

2. **Анализ активности пользователей**:
   - Определить количество пользователей, которые совершили покупку только один раз.

3. **Анализ доставки**:
   - Определить среднее количество заказов, не доставленных по разным причинам, и вывести детализацию по причинам.

4. **Анализ покупок по товарам**:
   - По каждому товару определить, в какой день недели товар чаще всего покупается.

5. **Анализ покупок в неделю**:
   - Рассчитать среднее количество покупок у каждого пользователя в неделю (по месяцам), с учетом неполных недель в месяце.

6. **Когортный анализ**:
   - Выполнить когортный анализ пользователей для оценки поведения по времени.
   - Выявить когорту с самым высоким retention на 3-й месяц за период с января по декабрь.

7. **RFM-сегментация**:
   - Построить RFM-сегментацию пользователей для качественной оценки аудитории:
     - **Recency (R)** — количество дней с момента последней покупки.
     - **Frequency (F)** — количество покупок за всё время.
     - **Monetary (M)** — сумма всех покупок пользователя.
   - Определить границы для каждой метрики (recency, frequency, monetary) для интерпретации кластеров.

## Результаты/Выводы

- Определено, что более 95% пользователей совершили покупку только один раз, что указывает на необходимость улучшения удержания клиентов.
- Выполнен анализ причин недоставленных заказов, а также выявлен характер покупок по дням недели.
- Проведен когортный анализ, который позволил выявить когорту с наибольшим удержанием на 3-й месяц.
- Построена RFM-сегментация, классифицирующая аудиторию по активности и ценности для бизнеса.

---

## Данные

Данные разбиты на несколько таблиц, доступных по ссылкам в коде проекта:

1. **olist_customers_datase.csv** — информация о клиентах:
   - `customer_id`: позаказный идентификатор пользователя.
   - `customer_unique_id`: уникальный идентификатор пользователя (аналог номера паспорта).
   - `customer_zip_code_prefix`: почтовый индекс пользователя.
   - `customer_city`: город доставки пользователя.
   - `customer_state`: штат доставки пользователя.

2. **olist_orders_dataset.csv** — информация о заказах:
   - `order_id`: уникальный идентификатор заказа (номер чека).
   - `customer_id`: позаказный идентификатор пользователя.
   - `order_status`: статус заказа.
   - `order_purchase_timestamp`: время создания заказа.
   - `order_approved_at`: время подтверждения оплаты.
   - `order_delivered_carrier_date`: время передачи заказа логистической службе.
   - `order_delivered_customer_date`: время доставки заказа.
   - `order_estimated_delivery_date`: обещанная дата доставки.

3. **olist_order_items_dataset.csv** — информация о товарах в заказах:
   - `order_id`: уникальный идентификатор заказа.
   - `order_item_id`: идентификатор товара в заказе.
   - `product_id`: идентификатор товара.
   - `seller_id`: идентификатор продавца.
   - `shipping_limit_date`: максимальная дата доставки продавцом.
   - `price`: цена за единицу товара.
   - `freight_value`: вес товара.

Файлы данных включают:
- **olist_customers_datase.csv** — данные о клиентах.
- **olist_orders_dataset.csv** — данные о заказах.
- **olist_order_items_dataset.csv** — данные о товарных позициях.

Проект выполнен в рамках обучения на курсе "Аналитик данных" от karpov.courses.
